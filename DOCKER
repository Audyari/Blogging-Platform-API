# Docker Setup for Blogging Platform API

## Prerequisites

- Docker Desktop installed and running
- Docker Compose (included with Docker Desktop)

## Quick Start

### 1. Start MySQL Database

```bash
docker-compose up -d
```

This will start MySQL database on port 3306 with:
- Database: `blogging_platform`
- Root password: `password`
- User: `bloguser`
- Password: `blogpassword`

### 2. Verify Database is Running

```bash
docker-compose ps
```

Check the status of `blogging-platform-mysql` container.

### 3. View Logs

```bash
docker-compose logs -f mysql-db
```

### 4. Stop Services

```bash
docker-compose down
```

To also remove volumes:
```bash
docker-compose down -v
```

## Database Connection

The application is configured to connect to MySQL at:
- **URL**: `jdbc:mysql://localhost:3306/blogging_platform`
- **Username**: `root` (or `bloguser`)
- **Password**: `password` (or `blogpassword`)

## Troubleshooting

### Port Conflict
If port 3306 is already in use:
```bash
# Stop any existing MySQL containers
docker stop blogging-platform-mysql

# Or change the port in docker-compose.yml
ports:
  - "3307:3306"  # Host port 3307, container port 3306
```

### Clean Start
If you need to reset everything:
```bash
docker-compose down -v
docker-compose up -d --build
```

### Check Container Health
```bash
docker exec blogging-platform-mysql mysqladmin ping -h localhost
```

## Environment Variables

You can customize the database configuration by modifying these environment variables in `docker-compose.yml`:
- `MYSQL_ROOT_PASSWORD`
- `MYSQL_DATABASE`
- `MYSQL_USER`
- `MYSQL_PASSWORD`

## Application Configuration

The Spring Boot application automatically picks up the MySQL configuration from `src/main/resources/application.yaml`.